<script>
function redirect() {
    const isAndroid = /Android/i.test(navigator.userAgent);
    const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
    const urlParams = new URLSearchParams(window.location.search);
    const androidPackage = urlParams.get('android_package');
    const iosStoreId = urlParams.get('ios_store_id');

    // Android 逻辑
    if (isAndroid && androidPackage) {
        try {
            window.location.href = `intent://#Intent;package=${androidPackage};end`;
            setTimeout(() => {
                window.location.href = 'https://ys.mihoyo.com/'; // 国服官网
            }, 2500); // 延长至 2.5 秒
        } catch (e) {
            window.location.href = 'https://ys.mihoyo.com/';
        }
    }
    // iOS 逻辑
    else if (isIOS && iosStoreId) {
        window.location.href = `https://apps.apple.com/app/id${iosStoreId}`;
    }
    // 默认跳转
    else {
        window.location.href = 'https://genshin.hoyoverse.com/';
    }
}
</script>
